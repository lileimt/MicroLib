<!DOCTYPE html>
<html lang="en">
  <head>
  <title>table</title>
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <script src="js/qwebchannel.js"></script>
  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/colResizable-1.5.min.js"></script>
  <script src="js/sort.js"></script>
  <script src="js/channel.js"></script>
  <script src="js/oauth2.js"></script>
  <script type="text/javascript">
    var listData = [{
      id:0,
      isDir:true,
      children:[{
        id:1,
        isDir:true,
        md5:"1234567890",
        fileIcon:"filetype/barcode_result_page_type_file_dir_icon.png",
        fileName:"我的文件",
        ownerName:"lileimt",
        fileSize:"11.1 MB",
        createTime:"11:11",
        children:[{
          id:2,
          isDir:true,
          md5:"1234567890",
          fileIcon:"filetype/barcode_result_page_type_file_dir_icon.png",
          fileName:"iphone2",
          ownerName:"lileimt",
          fileSize:"11.1 MB",
          createTime:"11:11",
          children:[{
            id:5,
            isDir:true,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_file_dir_icon.png",
            fileName:"iphone3",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11",
            children:[
              {
                id:6,
                isDir:false,
                md5:"1234567890",
                fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
                fileName:"iphone4.apk",
                ownerName:"lileimt",
                fileSize:"11.1 MB",
                createTime:"11:11"
              }]
            }]
          }]
        },{
          id:3,
          isDir:true,
          md5:"1234567890",
          fileIcon:"filetype/barcode_result_page_type_file_dir_icon.png",
          fileName:"iphone4",
          ownerName:"lileimt",
          fileSize:"11.1 MB",
          createTime:"11:11",
          children:[{
            id:4,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"iphone2.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
          }]
        },{
            id:4,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"iphone2.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
        },{
            id:7,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"iphone3.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
        },{
            id:8,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"我的iphone5.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
        },{
            id:9,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"iphone6.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
        },{
            id:10,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"iphone7.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
        },{
            id:11,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"iphone8.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
        },{
            id:12,
            isDir:false,
            md5:"1234567890",
            fileIcon:"filetype/barcode_result_page_type_apk_icon.png",
            fileName:"iphone9.apk",
            ownerName:"lileimt",
            fileSize:"11.1 MB",
            createTime:"11:11"
        }]
      }]

  var currListData = {};
  var curSort = 0   //0代表down，降序  1代表up，升序
  var curMode = 0   //0代表列表模式 1代表视图模式

  $(function(){	  
    $(document).ready(function(){
      //Qt交互
      //new QWebChannel(qt.webChannelTransport,function(channel){
      //    window.channel = channel.objects.channel;
      //});
      $("#sample2").colResizable({
        liveDrag:true, 
        gripInnerHtml:"<div class='grip'></div>", 
        draggingClass:"dragging"
      });
      //获取接口数据
      // oauth2.getFileById(0,{
      //   success:function(data){
      //     fileListData = data
      //   },error:function(xhr,type,errorThrown){
      //     console.log(xhr);
      //   }
      // })
      currListData = listData[0].children
      tablesort.sort(currListData,"fileName",curSort)
      showListTable(currListData)
    });	
     
  });
  
  </script>
  </head>
  <body>
  <div class="hui-resize-table" id="resizeTable">
    <div class="hui-path">
        <div id="tablebar">
          <a class="hui-arrows">
            <img src="img/left.png" />
          </a>
          <span>
            <a class="hui-step" href="###" id="0" onclick=gotoFile(this,0)>我的文件</a>
          </span>
          <!--span> 
            <span> ＞ </span>
            <a class="hui-step" href="###">资源库</a>
          </span-->
        </div>
        <div class="hui-operate">
            <img id="refreshBtn" src="img/refresh.png" >
            <img id="rankBtn" src="img/rank.png" >
            <img id="cutBtn" src="img/list.png" >
            <ul class="rankBox">
              <li >名称</li>
              <li class="rankIcon"><img src="img/down.png" />文件大小</li>
              <li>更新时间</li>
            </ul>
        </div>
    </div>
    <div class="refresh">
      <table id="sample2" class="hui-list-table" width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr class="hui-table-title">
          <th class="header_name" width="60%">
            <input type="checkbox" class="hui-checkbox checkbox" id="allChecked" name="allChecked"/>
            名称
            <span class="rankImg">
              <img class="hui-icon-down" src="img/down.png" />
            </span>
          </th>
          <th>创建者</th>
          <th>大小</th>
          <th>创建时间</th>
        </tr>
        <tbody id="tbody">

        </tbody>
      </table>
      <div id="sample1" class="hui-img-table">
        <div class="allChecked">
            <input type="checkbox" class="checkbox" id="imgAllChecked" name="imgAllChecked"/>
            <span>全选</span>
            <!-- <span class="rankImg">
              <img src="img/down.png" />
            </span> -->
        </div>
        <ul id="vbody" class="listBox">
            
        </ul>
      </div>
      <div id="rightKey">
        <ul>
          <li class="downLoad">下载</li>
          <li class="send">发送</li>
          <li class="rightKeyRename">重命名</li>
          <li class="rightKeyDelete">删除</li>
        </ul>
      </div>
      <div id="operate">
        <ul>
          <li class="downLoad">上传</li>
          <li class="send">新建文件夹</li>
          <li class="rightKeyRename">查看</li>
          <li class="rightKeyDelete">刷新</li>
          <li class="rightKeyDelete">排序</li>
        </ul>
      </div>
    </div>
  </div>
  <script src="js/index.js"></script>
</body>
</html>